I"öC<p>Iâ€™m usually writing about hacking, robotics, or machine learning, but I thought Iâ€™d start journaling thoughts on data analytics, which is how I pay the bills these days.  I wanted to begin with a series on MySQL, as Iâ€™ve some friends I feel itâ€™d help enter the field.  But, Iâ€™ll eventually expand the series to include visualizations, analysis, and maybe machine learning.  And I hope these articles help someone move from manually generating reports in Excel to writing scripts thatâ€™ll automate the boring stuff.  As I like to say, â€œknowing to code gives you data superpowers!â€</p>

<p>Iâ€™m a professional data analyst, but, if Iâ€™m confident of anything, itâ€™s Iâ€™ve holes in my understanding.  That stated, these articles may contain mistakes.  If you spot one, let me know in the comments and Iâ€™ll get it fixed quick.</p>

<p>Also, Iâ€™m pretty opinionated.  Iâ€™m sure these opinions will find their way into my writings.  When I notice them, Iâ€™ll provide a caveat and reasoning for why I hold the opinion.</p>

<p>One last thing, these articles will focus on <strong>immediately usable techniques</strong>.  Honestly, I believe Iâ€™ve failed you if you finish an article without a new skillâ€“or, at least an affirmation of existing skill.  Donâ€™t get me wrong, I plan to do deep-dives into needed skills, but I believe those are only useful if you have a mental framework to hang them on.</p>

<p>Ok! Letâ€™s do this!</p>

<h1 id="sql">SQL</h1>
<p>When getting started in data analytics Structured Query Language (SQL) is a great place to begin.  It is a <em>well</em> established data language, <a href="https://en.wikipedia.org/wiki/SQL">having been around since the 70s</a>.  The intent of SQL is to empower an individual to retrieve data from a database in an efficient and predictable manner.  However, nowadays SQL is used for lots more, such as abstraction, analysis, and semantic changes.</p>

<p>What does it look like?  Hereâ€™s a example of a SQL query:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">employees</span> <span class="k">AS</span> <span class="n">e</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">salaries</span> <span class="k">AS</span> <span class="n">s</span>
	<span class="k">ON</span> <span class="n">e</span><span class="p">.</span><span class="n">emp_no</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">emp_no</span>
<span class="k">WHERE</span> <span class="n">e</span><span class="p">.</span><span class="n">emp_no</span> <span class="o">=</span> <span class="mi">10004</span><span class="p">;</span>
</code></pre></div></div>
<p>The above code is referred to as a query.  Itâ€™s a question weâ€™d like to get an answer to, written in a language a machine understands.  In such, running this query should return all the data needed to answer the question.  Thatâ€™s really what SQLâ€™s about.  Writing out a question and getting an answer from the database.</p>

<p>Though!  Weâ€™re not going to go into those details yet.  Right now, letâ€™s setup a practice environment where we can learn to <em>apply</em> concepts along with the concepts themselves.</p>

<h1 id="sooo-many-sqls">Sooo Many SQLs</h1>
<p>Iâ€™d love to tell you SQL is simple. Itâ€™s not, well, at least not simple to master.  Itâ€™s complexâ€“every day I learn something new (one reason I enjoy it).  One of its complexities is there are different versions of SQL dialects.  Here, we refer to â€œdialectâ€ as slightly different ways of coding the same thing.</p>

<p>Some of the most common are:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Source / Vendor</th>
      <th style="text-align: left">Common name (Dialectic)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">ANSI/ISO Standard</td>
      <td style="text-align: left">SQL/PSM</td>
    </tr>
    <tr>
      <td style="text-align: left">MariaDB</td>
      <td style="text-align: left">SQL/PSM, PL/SQL</td>
    </tr>
    <tr>
      <td style="text-align: left">Microsoft / Sybase</td>
      <td style="text-align: left">T-SQL</td>
    </tr>
    <tr>
      <td style="text-align: left">MySQL</td>
      <td style="text-align: left">SQL/PSM</td>
    </tr>
    <tr>
      <td style="text-align: left">Oracle</td>
      <td style="text-align: left">PL/SQL</td>
    </tr>
    <tr>
      <td style="text-align: left">PostgreSQL</td>
      <td style="text-align: left">PL/pgSQL</td>
    </tr>
  </tbody>
</table>

<p>Letâ€™s make it a bit more confusing.  SQL refers to the language, but we often refer to a SQL dialect by itâ€™s vendor or source.  Thus, even though MySQL and MariaDB largely speak the same dialect, â€œSQL / PSM,â€ we refer to them not by their common name, but by the source name.  Thus, â€œI write MySQL queries.â€  Or, â€œAt work I use PostgresSQL.â€</p>

<p>So which one do you focus on?</p>

<p>Well, we have to start somewhere.  Iâ€™ve picked <a href="https://www.mysql.com/">MySQL</a> because I use itâ€™s identical twin, MariaDB, at work.  Itâ€™s a great SQL dialect to begin with, as itâ€™s used by many potential employers.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Source</th>
      <th style="text-align: left">Companies Use</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">MySQL</td>
      <td style="text-align: left">58.7%</td>
    </tr>
    <tr>
      <td style="text-align: left">SQL Server</td>
      <td style="text-align: left">41.2%</td>
    </tr>
    <tr>
      <td style="text-align: left">PostgreSQL</td>
      <td style="text-align: left">32.9%</td>
    </tr>
    <tr>
      <td style="text-align: left">MongoDB</td>
      <td style="text-align: left">25.9%</td>
    </tr>
    <tr>
      <td style="text-align: left">SQLite</td>
      <td style="text-align: left">19.7%</td>
    </tr>
    <tr>
      <td style="text-align: left">Redis</td>
      <td style="text-align: left">18.0%</td>
    </tr>
    <tr>
      <td style="text-align: left">Elasticsearch</td>
      <td style="text-align: left">14.1%</td>
    </tr>
  </tbody>
</table>

<p><em><a href="https://insights.stackoverflow.com/survey/2018/#technology-_-databases">Source: Stackoverflow 2018 Developer Survey.</a></em></p>

<p>At this point you might be saying, â€œThatâ€™s great? Iâ€™ve no idea what any of this means.â€  No worries! Bookmark this page and come back later.  For now, letâ€™s move into setting up a practice MySQL environment.</p>

<ul>
  <li><strong>One last note</strong>, if youâ€™re going into a job interview itâ€™s a good trick to wait until you hear how they pronounce â€œSQLâ€ and then say it how they do.  As the â€œcorrectâ€ pronunciation is â€œEss-cue-ell,â€ however, most professionals I know pronounce it â€œsequelâ€ (as do I).</li>
</ul>

<p><img src="../images/pronounce-sq-camps.png" alt="sql-pronunciation" /></p>

<h1 id="setting-up-mysql">Setting up MySQL</h1>
<p>These instructions assume you are using Windows.  If not, donâ€™t worry, most of them still apply, but you get to skip some steps!</p>

<p>Ok, were are going to install MySQL Workbench. This program will allow us to write SQL queries, send them to a database, get back and view the results.</p>

<h2 id="preparing-to-install-mysql-workbench-windows-only">Preparing to Install MySQL Workbench (Windows Only)</h2>
<p>If you are using Windows you need to install software MySQL Workbench uses on Windows.</p>

<ul>
  <li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=48145">Visual C++ Redistributable for Visual Studio 2015</a></li>
</ul>

<p><img src="../images/data-analytics-series/downloading_prereqs.gif" alt="connecting-to-mysql-server" /></p>

<p>Click on the link above.  Select the <code class="highlighter-rouge">vc_redist_x64.exe</code> file and click â€œDownload.â€  Once the file has finished downloading, install it.</p>

<p><img src="../images/data-analytics-series/mysql_setup_9.PNG" alt="install-vcpp-restributable" /></p>

<h2 id="mysql-workbench">MySQL Workbench</h2>
<p>Ok! Now we are ready to download and install MySQL.  Visit the link below, select your operating system, and choose â€œDownload.â€</p>

<ul>
  <li><a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench Download</a></li>
</ul>

<p>Select your operating system and hit â€œDownloadâ€
<img src="../images/data-analytics-series/mysql_setup_1.png" alt="download-mysql-workbench" /></p>

<p>Once the file has finished downloading, run it and follow the install prompts.  All choices are fine left on default.</p>

<h2 id="connecting-to-the-server">Connecting to the Server</h2>
<p>Once youâ€™ve installed MySQL Workbench, open it.  When it comes up you should see the main screen, which looks something like:
<img src="../images/data-analytics-series/mysql_setup_12.PNG" alt="mysql-workbench-welcome-screen" /></p>

<p>Before we can start querying a database we need to create a database connection.  A â€œconnectionâ€ here is all the information MySQL Workbench needs to find the database and what permissions you have regarding data access.</p>

<p><img src="../images/data-analytics-series/connecting_to_server.gif" alt="connect-mysql-workbench" /></p>

<p>We will be connecting to a database Iâ€™ve setup on a remote computer.  Connecting to a remote computers is the most common way to interact with a SQL database, however, later Iâ€™ll show you how to build your own database using CSVs.  This will be hosted on your local PC.</p>

<p>Ok, back to setting up the remote connection.  Click on the circle and plus icon next to â€œMySQL Connections.â€  This will cause a screen to pop up for connection information.</p>

<p>Enter the following:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Connection name: maddatum.com
Hostname: maddatum.com
Username: the username I've provided you
</code></pre></div></div>
<p>Please donâ€™t be shy, if you need a username email me at cthomasbrittain at yahoo dot com.  Iâ€™ll gladly make you one.</p>

<p>Once youâ€™ve entered the connection information hit â€œOkâ€.  You should be brought back to the â€œWelcomeâ€ screen, but now, there will be a connection listed called â€œmaddatum.comâ€.
<img src="../images/data-analytics-series/mysql_setup_17.PNG" alt="our-sql-connection" /></p>

<p>Double click on it.  You will most likely get the following warning.
<img src="../images/data-analytics-series/mysql_setup_15.PNG" alt="sql-connection-warning" />
Click â€œContinue Anywayâ€ (and if thereâ€™s an option, check â€œDont Show this Message Againâ€).</p>

<p>If the connection was successful you should see a screen like:
<img src="../images/data-analytics-series/mysql_setup_18.PNG" alt="our-sql-connection" /></p>

<h2 id="show--use-databases">Show / Use Databases</h2>
<p>Alright! Letâ€™s get into the action.  Before we start executing queries let me point out a few things in the user interface:
<img src="../images/data-analytics-series/mysql_setup_26.PNG" alt="mysql-workbench-interface" /></p>

<h3 id="write-query">Write Query</h3>
<p>This area is where you will write queries.  Each query should end with a <code class="highlighter-rouge">;</code>, or the MySQL Workbench will get confused and try to jumble two queries together.</p>

<h3 id="view-results">View Results</h3>
<p>This is the area where the result of whatever command you send the SQL will server will be shown.  Often, it will be a table containing data you requested in your query</p>

<h3 id="database-messages">Database Messages</h3>
<p>Here is where you can spot if you written a query incorrectly, as the database will send a message letting you know.  Also, the database will tell you when it has successfully returned results from a query, how many results, and how long they took to retrieve.  Useful for when you are trying to make a query <em>fast</em>.</p>

<h1 id="getting-around-in-mysql">Getting Around in MySQL</h1>
<p>Letâ€™s send a query to the database.  In the query area type:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SHOW</span> <span class="n">databases</span><span class="p">;</span>
</code></pre></div></div>
<p>Now, select those text with your mouse and hit the lighting (execute) icon above it.
<img src="../images/data-analytics-series/mysql_setup_27.PNG" alt="show-databases-command" /></p>

<p>This will return a list of all the databases found on this server.  You should see this in the <code class="highlighter-rouge">View Results</code> area.  Each SQL server can have multiple databases on it, and they often do.  For right now we want to focus on the <code class="highlighter-rouge">employees</code> database.
<img src="../images/data-analytics-series/mysql_setup_28.PNG" alt="show-databases-command" /></p>

<p>To select a database type <code class="highlighter-rouge">USE</code> and then the name of the database.  In our case it will be:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">USE</span> <span class="n">employees</span><span class="p">;</span>
</code></pre></div></div>
<p>Now, highlight the text and hit the execute button.</p>

<p><img src="../images/data-analytics-series/mysql_setup_29.PNG" alt="show-databases-command" /></p>

<p>This will show the following in the database messages:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>13:21:55	USE employees	0 row(s) affected	0.0031 sec
13:21:55	Error loading schema content	Error Code: 1146 Table 'performance_schema.user_variables_by_thread' doesn't exist	
</code></pre></div></div>
<p>Donâ€™t worry about the error, thatâ€™s a product of my hasty setup.  The important message is the <code class="highlighter-rouge">USE employees</code> message.  This means you are now connected to the <code class="highlighter-rouge">employees</code> database.  Any query you write in this session will now be sent to this specific database.</p>

<p>But, now what?  Weâ€™ve no idea of whatâ€™s on the database.  No worries, weâ€™ve a command to see the tables found on this database.  If you are not familiar with the term â€œtable,â€ donâ€™t worry.  Just think of a table as a single spreadsheet.  Itâ€™s a bit more complicated and we will investigate their structure further in a bit.  But, right now, the spreadsheet analogy works.</p>

<p>To see all the tables this database contains execute the command:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SHOW</span> <span class="n">tables</span><span class="p">;</span>
</code></pre></div></div>
<p>This should return the following table names
<img src="../images/data-analytics-series/mysql_setup_30.PNG" alt="show-databases-command" /></p>

<p>By now, you know the next question, â€œBut how do I know whatâ€™s in a table?â€</p>

<p>You can use the <code class="highlighter-rouge">DESCRIBE</code> command to get more information about a table.  Letâ€™s take a look at the <code class="highlighter-rouge">departments</code> tables.</p>

<p>Type and execute:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DESCRIBE</span> <span class="n">departments</span><span class="p">;</span>
</code></pre></div></div>
<p>This should return:</p>

<p><img src="../images/data-analytics-series/mysql_setup_31.PNG" alt="show-databases-command" />
The <code class="highlighter-rouge">Field</code> column here gives you the names of all the <code class="highlighter-rouge">fields</code> in the <code class="highlighter-rouge">departments</code> table.  Whatâ€™s a field?  As with table, we will go into them with more depth later.  But for now, think of a field as a named column in a spreadsheet.</p>

<h1 id="our-first-query">Our First Query!</h1>
<p>Now we know the database, table, and field names, letâ€™s write our first query!</p>

<p>Still in the query area type and execute:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">departments</span><span class="p">.</span><span class="n">dept_no</span><span class="p">,</span> <span class="n">departments</span><span class="p">.</span><span class="n">dept_name</span>
<span class="k">FROM</span> <span class="n">departments</span>
</code></pre></div></div>
<p>This will return all the entries for the fields (columns) <code class="highlighter-rouge">dept_no</code> and <code class="highlighter-rouge">dept_name</code> for the table (spreadsheet) called <code class="highlighter-rouge">departments</code>.  You did it! Youâ€™re a SQLâ€™er. 
<img src="../images/data-analytics-series/mysql_setup_32.PNG" alt="show-databases-command" /></p>

<h1 id="what-comes-next">What Comes Next?</h1>
<p>Lotâ€™s to come! We will learn a bit more about SQL, itâ€™s parts, their proper names.  Weâ€™ll also dive into the â€œproperâ€ SQL names for different data parts.  And weâ€™ll write tons more queries.</p>

<p>Please feel free to ask any questions in the comments.  Iâ€™ll answer them ASAP.</p>
:ET