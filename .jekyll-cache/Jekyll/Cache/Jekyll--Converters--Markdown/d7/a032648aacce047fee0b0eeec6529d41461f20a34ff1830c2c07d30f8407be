I"Ç9<h3 id="some-html">Some HTML</h3>

<p><u>Why the Hell?</u></p>

<p><img src="/../images/LeavingLMR.jpg" alt="LeavingLMR.jpg" />Wow, itâ€™s been awhile since Iâ€™ve actually written anything in Drupal based text editor. Â Feels like home.</p>

<p>Honestly, Iâ€™m not going to go into the â€œWhyâ€ of building this site. Â Maybe Iâ€™ll do that later. Â Letâ€™s just say, there was an impetus to recreate the home we were forced to leave.</p>

<p><u>How the Blink?</u></p>

<p>Spinning Up a Server:</p>

<p>The first thing was deciding on a server. Â I didnâ€™t have much (um, any) experiencing in spinning up a server. Â But after a bit of reading, checking the bank account, and finding what would work for Drupal site, I chose <a href="https://www.linode.com/">Linode</a>.Â </p>

<p>Definitely happy so far. Â Their business model seems to be no frills Linux servers which are fast to spin upâ€“if you know what you are doing. Â Of course, I didnâ€™t. Â Still, they had a lot of fairly up to date walkthroughs.</p>

<p>Here are the walkthroughs I used (in order) to spin up this server:</p>

<ol>
  <li><a href="https://www.linode.com/docs/getting-started">Getting Started</a></li>
  <li><a href="https://www.linode.com/docs/security/securing-your-server">Securing your Server</a></li>
  <li><a href="https://www.linode.com/docs/websites/hosting-a-website">Hosting a Website</a></li>
  <li><a href="https://www.linode.com/docs/websites/cms/managing-web-content-with-drupal-7">Installing Drupal 7</a></li>
</ol>

<p>This almost all the information needed to create this siteâ€™s based. Â A couple of caveats:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install php5 php-pear sudo apt-get install php5-mysql
</code></pre></div></div>

<p>Needs to be replaced with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install php php-pear sudo apt-get install php-mysql
</code></pre></div></div>

<p>This will install the latest version of PHP, for me, that was PHP7.</p>

<p>Also, the install directory is different for PHP7. Â This is important, since the php.ini file needs to be edited. Â In 7 it may be found:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/php/7.0/cli
</code></pre></div></div>

<p>The last thing to do was relocate the Drupal 7 files to the directory where Apache can serve them up.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /var/www/html sudo wget https://ftp.drupal.org/files/projects/drupal-7.50.zip
</code></pre></div></div>

<p>If all the script-blogs are followed correctly, then when entering the web IP of the site in the browser you should see the following:</p>

<p><img src="/../images/Drupal_On_Linode.PNG" alt="Drupal_On_Linode.PNG" /></p>

<p>Design Goals:</p>

<p>Goals. Â Itâ€™s good to have them. Â Thinking through what Iâ€™d like out of a new robot-home here are some of the concepts which seemed critical and important:</p>

<ol>
  <li>An open place for anyone to express ideas, with minimum viable censorship.</li>
  <li>Responsive. Â Not just mobile friendly, but optimized for quick viewing of information.</li>
  <li>Shoutbox. Â Gots to have one.</li>
  <li>WYSIWYG and rich content editors:
    <ul>
      <li>Iframes</li>
      <li>Image boxes</li>
      <li>Image storage system</li>
      <li>Code-highlighting including our favorite languages (and Ada for Mr. Bdk6)</li>
    </ul>
  </li>
  <li>The primary features of our old home:
    <ul>
      <li>Collect</li>
      <li>Chill-out Zone</li>
      <li>Forums</li>
      <li>Shoutbox, oh wait, already stated that.</li>
    </ul>
  </li>
  <li>New features requested by members:
    <ul>
      <li>Content rating</li>
      <li>Member points</li>
      <li>Wiki</li>
      <li>Anything we could dream of</li>
    </ul>
  </li>
</ol>

<p>Theme:</p>

<p>There are three layers to the theme:Â </p>

<ol>
  <li><a href="https://www.drupal.org/project/adaptivetheme\\">AdaptiveThemes</a> was selected as the main</li>
  <li><a href="https://www.drupal.org/project/corolla">Corolla</a>Â over it</li>
  <li><a href="https://www.drupal.org/project/footheme">FooTheme</a>Â went over it.</li>
</ol>

<p>In the /var/www/html/sites/all/themes/corolla/ directory there is a file called corolla.infoÂ inside a referenced was added forÂ css/corolla_overrides.css.<br />
<img src="/../images/Screenshot%202016-10-10%2018.59.30.png" alt="Screenshot 2016-10-10 18.59.30.png" /><br />
Then, in theÂ /var/www/html/sites/all/themes/corolla/cssÂ directory the corolla_override.css file was made which includes several hackish css snippets:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css">    <span class="c">/* The title was originally set to -5px (weird) */</span>
    <span class="nf">#site-name</span> <span class="nt">a</span> <span class="p">{</span>
      <span class="nl">letter-spacing</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.wrap-code</span> <span class="p">{</span>
      <span class="nl">overflow-x</span><span class="p">:</span> <span class="nb">scroll</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c">/* These hide some uncessary shoutbox labels. */</span>
    <span class="nc">.shoutbox-interval-msg</span> <span class="p">{</span>
      <span class="nl">visibility</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
      <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nf">#edit-nick</span><span class="p">{</span>
      <span class="nl">visibility</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
      <span class="nl">display</span><span class="p">:</span><span class="nb">none</span><span class="p">;</span>
    <span class="p">}</span></code></pre></figure>

<p>Regarding the color scheme. Â The palettee can be edited in the Footheme â€œColorâ€ section. Â This requires th Color (Drupal Core) module be enabled. Â The palettee was selected by using <a href="http://www.pictaculous.com/">Pictaculous</a>Â taking an image of Russian revolutionary art. Â This was meant to capture the feeling palette selected by an artist with a better understanding of <a href="https://designshack.net/articles/graphics/the-science-behind-color-and-emotion/">color-emotion</a>Â connections.</p>

<p><img src="http://3.bp.blogspot.com/-UNUkZH4wSVg/UMQieV7p8bI/AAAAAAAAO6g/gk-z_yAnkIA/s640/a1.JPG" alt="" /></p>

<p>Fonts<br />
Logo selection</p>

<p>Modules:</p>

<p><a href="https://www.drupal.org/project/admin_tools">AdminÂ Tools:</a></p>

<p>â€œAdmin Tools is an addon module for theÂ <a href="http://drupal.org/project/admin">Admin</a>Â module, which provides a sidebar navigation for selected roles.Â The Admin Tools module adds functionality and quick access for clearing caches, running cron and updates much likeÂ <a href="http://drupal.org/project/admin_menu">Admin Menu</a>.â€</p>

<p>IÂ <em>hate</em>Â cache errors. Â Mother-blinking cache!</p>

<p><a href="https://www.drupal.org/project/admin_menu">Administration Menu</a>:</p>

<p>Admin tools sped up development a lot. Â It basically simplifies the admin menu so 4th level items are exposed to one click.</p>

<p>Blog (core)</p>

<p>Allows the Drupal site act like a good old blogâ€“for us, this allows multi-authoring content and management.</p>

<p>Block (core)</p>

<p>Allows a block design of the UI.</p>

<p><a href="https://www.drupal.org/project/ctools">Chaos Tools</a></p>

<p>This is a dependency for other modules (a lot of others).</p>

<p><a href="https://www.drupal.org/project/ckeditor">CKEditor</a><img src="/../images/Screenshot%202016-09-24%2020.49.03.png" alt="Screenshot 2016-09-24 20.49.03.png" /></p>

<p>The CKEditor is the core of the Drupal blogging package. Â It is the editor used to create this post. Â However, it put up the most fight when trying to install. Â Actually, thatâ€™s not fair. Â It wasnâ€™t the CKEditor it was the code highlighting which was such a pain. Â The code highlighting allowsÂ this:</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">marioTouchesRobots</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">aHackerSpiritDies</span><span class="p">();</span>
    <span class="p">}</span></code></pre></figure>

<p>Iâ€™m going to list out the steps used to setup the CKEditor used for this article, but then discuss some of the pitfalls, which ended up costing a lot of development time.</p>

<p>Steps to Setup CKEditor with CodeSnippets and HighlightingJS:</p>

<ol>
  <li>Download theÂ <a href="https://www.drupal.org/project/ckeditor">CKEditor - WYSIWYG HTML editor</a> module.</li>
  <li>Enable the CKEditor module.</li>
  <li>Go to Configurationâ€“&gt;CKEditorâ€“&gt;EditÂ CKEditor Global Profile</li>
  <li>Set the â€œPath to CKEditorâ€ to //cdn.ckeditor.com/4.5.4/full-all. This will use the content delivery network to serve up the CKEditor JavaScript. Â It also lets you access a lot of plugins without having to manage them. Â The other option is to pull a copy on the local serverâ€“itâ€™s a lot more hassle managing.</li>
  <li>Go to Configurationâ€“&gt;CKEditorâ€“&gt;Profile Xâ€“&gt;Edit (note, X = Text Editing profiles users will be able to select when blogging. Â These can be managed under content Content Authoring â€“&gt; Text Formats).</li>
  <li>Go toÂ Basic Setup. Â Here, add all the Text Formats this particular CKEditor profile should affect.<img src="/../images/Screenshot%202016-10-02%2010.43.11.png" alt="Screenshot 2016-10-02 10.43.11.png" /></li>
  <li>UnderÂ SecurityÂ make sure â€œAlways run security filters for CKEditorâ€ is Enabled (should default).</li>
  <li>UnderÂ Editor AppearanceÂ go straight to the check-box title â€œPlugin for inserting Code Snippetsâ€ and enable it.</li>
  <li>Also, enable what other CKEditor Plugins needed. Â Note, there are more plugins then this, but these are the ones provided through the Content Delivery Network.</li>
  <li>Scroll to the end and hitÂ Save. Â Now, go back toÂ Configurationâ€“&gt;CKEditorâ€“&gt;Profile Xâ€“&gt;Edit. Â Go straight to Editor Appearance. Â There should be a new button available</li>
  <li>Add the Code Snippet button to the â€œCurrent Toolbarâ€</li>
  <li>This should enable the CKEditor and provide the Code Snippet button.</li>
  <li>Download theÂ <a href="https://www.drupal.org/project/highlightjs">highlight js</a>Â Drupal module. Â This should be installed in the modules directory</li>
  <li>Navigate toÂ var/www/html/sites/all/librariesÂ folder and make a directory called â€˜highlightjsâ€™, switch to it.</li>
  <li>The highlight js module is dependent on the actual <a href="https://highlightjs.org/">highlightjs css</a> libaries though. Â Download a package in the /var/www/html/sites/all/libraries/highlightjsÂ folder.</li>
  <li>Unzip highlightjs here.</li>
  <li>Issue the command â€˜sudo mv higlight.pack.js highlightjsâ€™. Â This is required or the highlight module canâ€™t find the libraries.</li>
  <li>And the command â€˜sudo chmod 666 highlightjsâ€™.</li>
  <li>Go to the modules dashboard and enableÂ Highlight JS Syntax. Â <u>DO NOT</u>Â enable Highlight JS Filtetr.</li>
  <li>Open the modulesÂ /var/www/html/sites/all/modules/ckeditor$</li>
  <li>TypeÂ sudo nano ckeditor.config.js</li>
  <li>Add each HighlightJS language you would like to show in the dropdown box in the CKEditor. Â The part on the left of the colon is should match the HighlighJS language code. Â The part between the â€˜ â€˜s will be what is displayed in the CKEditor dropdown. Â When adding supported languages, hereâ€™s a good reference â€“ <a href="http://highlightjs.readthedocs.io/en/latest/css-classes-reference.html">Supported HighlightJS languages</a>Â (but it doesnâ€™t include custom languages, like Arduino). Â Donâ€™t forget to save when done.</li>
</ol>

<figure class="highlight"><pre><code class="language-js" data-lang="js">        <span class="nx">config</span><span class="p">.</span><span class="nx">codeSnippet_languages</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">php</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PHP</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">python</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Python</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">arduino</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Arduino</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">c</span><span class="p">:</span> <span class="dl">'</span><span class="s1">C</span><span class="dl">'</span>
        <span class="p">};</span></code></pre></figure>

<ol>
  <li><img src="/../images/Overflow.png" alt="Overflow.png" />There is an issue with the HighlightJS module where the text escapes the divs. Â It took a long time to find the culprit. Â Apparently, the HighlightJS modules causes this whenever it renders HTML produced by CKEditor. Â </li>
  <li>Go to /var/www/html/sites/all/modules/highlightjs</li>
  <li>TypeÂ sudo nano highlight_js.css</li>
  <li>
    <p>Enter the following style and save:</p>

    <p>.field-items {
     width: 100%;
   }</p>
  </li>
</ol>

<p>And that should be it. Â A couple words of warning. Â Make sure you donâ€™t enable the HighlightJS Filter. Â This will essentially double encode the HTML entities inside the <code> block. Â This causes &gt;, &lt;, and &amp; to show as "&gt;, &amp;lt, &amp;" respectively. Â This simple little issue took a lot of development time to solve--given the manual was lacking.</code></p>

<p>Color
Comment
Contextual Links
Dashboard
Database Logging
Entity API
Field
Field SQL Storage
Field UI
File
Filter
Five Star
Forum
Help
Highlighter JS Filter
Highlighter JS Syntax Highlighter
Image
IMCE
Libraries
List
Menu
Module Filter
Node (core)
Number
Options
Overlay
Path
Poll
RDF
Search
Shoutbox
Shoutbox Patch
Statistics
Statistics Counter
SysLog
System (core)
Taxnomy
Text (core)
Update Manager
User
Userpoints
Userpoints Service
Views
Views Content Panes
Views UI
Voting API</p>
:ET