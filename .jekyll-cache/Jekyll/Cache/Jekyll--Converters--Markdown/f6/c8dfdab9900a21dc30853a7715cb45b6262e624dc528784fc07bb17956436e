I"v><p>The last two articles have been getting oriented to SQL, however, the information in them will disappear quickly if we don’t give you a way to practice on data meaningful to you.  Let’s face it, as much fun as it is to find out random employees salaries, those don’t mean anything to <em>you</em>.</p>

<p>This article will show you how to setup a copy of MySQL Server on your PC, connect to it, load data from a CSV, and query those data.  There’s a lot to get done, so let’s get started.</p>

<h1 id="local-mysql-server-setup">Local MySQL Server Setup</h1>
<p>Each of the three operating systems are a little different on how you must go about setting up a local copy of MySQL Server.  Unfortunately, Windows is the most complex.  Anyway, feel free to skip to the appropriate section</p>

<ul>
  <li><a href="https://ladvien.com/data-analytics-mysql-localhost-setup/#windows">Windows</a></li>
  <li><a href="https://ladvien.com/data-analytics-mysql-localhost-setup/#mac">Mac</a></li>
</ul>

<h2 id="windows">Windows</h2>
<p>First, download the MySQL MSI Installer.</p>

<ul>
  <li><a href="https://dev.mysql.com/downloads/installer/">MySQL Server Windows Installer</a></li>
</ul>

<p><img src="../images/data-analytics-series/mysql_setup_43.PNG" alt="mysql-windows-installer-download" /></p>

<p>After you’ve downloaded it, open the the file.</p>

<p><img src="../images/data-analytics-series/mysql_setup_44.PNG" alt="mysql-windows-installer-download" /></p>

<p>If you are prompted to “Upgrade” go ahead and say “Yes”</p>

<p><img src="../images/data-analytics-series/mysql_setup_45.PNG" alt="mysql-windows-installer-download" /></p>

<p>The installer is a bit confusing, but don’t worry, most everything is fine left on its default.</p>

<p>Click on MySQL Server then the Add button.  Add “MySQL Server” and “Connector/OBDC x64.”  Then click “Next.”  You will see a Installation summary, click on “Execute” and wait for the download to finish and then install wizard to begin.</p>

<p>As I stated, most of the install wizard questions we will leave as default.</p>

<p><img src="../images/data-analytics-series/mysql-server-install.gif" alt="mysql-windows-installer-download" /></p>

<p><img src="../images/data-analytics-series/mysql_setup_46.PNG" alt="mysql-windows-installer-download" /></p>

<p><img src="../images/data-analytics-series/mysql_setup_47.PNG" alt="mysql-windows-installer-download" /></p>

<p><img src="../images/data-analytics-series/mysql_setup_48.PNG" alt="mysql-windows-installer-download" /></p>

<p>On the “Accounts and Roles” section you will need to decide on your password for the SQL Server on your local PC.  I obviously didn’t pick a great one.  MySQL Server will automatically setup a user with the name of <code class="highlighter-rouge">root</code> and a password you set here.  This <code class="highlighter-rouge">root</code> user will permissions to do anything to the server.</p>

<p><img src="../images/data-analytics-series/mysql_setup_49.PNG" alt="mysql-windows-installer-download" /></p>

<p><img src="../images/data-analytics-series/mysql_setup_50.PNG" alt="mysql-windows-installer-download" /></p>

<p>Execute the installer and let it finish.
<img src="../images/data-analytics-series/mysql_setup_51.PNG" alt="mysql-windows-installer-download" /></p>

<p>Once it finishes you should now have MySQL Server installed on your local PC. Skip to the last section to test it out.</p>

<h2 id="mac">Mac</h2>
<p>Mac’s a bit simpler.</p>

<ul>
  <li><a href="https://dev.mysql.com/downloads/mysql/">MySQL Server Mac Installer</a></li>
</ul>

<p>Download the <code class="highlighter-rouge">.dmg</code> installer.
<img src="../images/data-analytics-series/mysql_setup_56.PNG" alt="mysql-windows-installer-download" /></p>

<p>Click on “No thanks, just start my download” and when the download is finished, double click on it.
<img src="../images/data-analytics-series/mysql_setup_57.PNG" alt="mysql-windows-installer-download" /></p>

<p>Double click on the installer.  You will need to enter your system password for the installer to setup MySQL Server, but you will also need to provide the MySQL Server <code class="highlighter-rouge">root</code> user a password.  Don’t consfuse the two, unless you plan for them to be the same.</p>

<p><img src="../images/data-analytics-series/mysql-server-install-mac.gif" alt="mysql-windows-installer-download" /></p>

<p>Once it finishes you should now have MySQL Server installed on your Mac. Skip to the last section to test it out.</p>

<h1 id="testing-your-local-sql-server">Testing your Local SQL Server</h1>
<p>Go ahead and open MySQL Workbench and let’s connect to this new local server.</p>

<p>Click on the “New Connection” icon and leave everything default, except the “Connection Name,” here enter <code class="highlighter-rouge">localhost</code>.
<img src="../images/data-analytics-series/mysql_setup_52.PNG" alt="mysql-windows-installer-download" /></p>

<p>Double click on the new connection and enter the password you created during installation.  <em>Voila!</em></p>

<p>Let’s run a command to make sure everything is working.</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SHOW</span> <span class="n">databases</span><span class="p">;</span>
</code></pre></div></div>
<p>You should see:
<img src="../images/data-analytics-series/mysql_setup_53.PNG" alt="mysql-windows-installer-download" /></p>

<h1 id="loading-csv">Loading CSV</h1>

<p>Create a database</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">name_of_your_database</span><span class="p">;</span>
</code></pre></div></div>
<p>Before we create a table, make sure we are using the created datebase.</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">USE</span> <span class="n">name_of_your_database</span>
</code></pre></div></div>
<p>Now, we need to go over a bit of boring stuff before we get to loading the CSV.  Sorry, I’ll try to keep it brief.</p>

<h2 id="datatypes">Datatypes</h2>
<p>In SQL, every field has something called a “datatype.”  You can think of a datatype as a tag on your data tell the computer how to read them.</p>

<p>Ultimately, a computer can’t make sense of any human-words.  It has to convert everything into <code class="highlighter-rouge">0</code> and <code class="highlighter-rouge">1</code> before it understand its.  If this conversion was left up to the computer entirely, it might see a word and say, “Oh, yah, this is one of those French words,” when it is actually English, thus, the conversion to <code class="highlighter-rouge">0</code> and <code class="highlighter-rouge">1</code>s are incorrect.</p>

<p>You may have encountered this in a spreadsheet.  If you open a spreadsheet and see something like</p>

<p><img src="../images/data-analytics-series/mysql_setup_59.png" alt="xkcd-types" /></p>

<p>The data I actually provided the spreadsheet were:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Zipcode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">75444</td>
    </tr>
    <tr>
      <td style="text-align: left">06579</td>
    </tr>
  </tbody>
</table>

<p>Notice the zero in front of <code class="highlighter-rouge">6579</code>, this was due to the computer saying, “Oh, these data look like numbers–and since the human didn’t tell me otherwise, I’m going to treat them like numbers.  And, well, it is perfectly valid to drop the leading zero of a number.”</p>

<p>I wish all datatypes were this simple, however, the above example is about is simple as it gets. We can try to skip over a lot of nuances of datatypes and focus on the three we will probably see the most:</p>

<ul>
  <li>DATE</li>
  <li>TIME</li>
  <li>INT (short of integer)</li>
  <li>FLOAT</li>
  <li>CHAR (short for character)</li>
</ul>

<p>Here are what samples of the above data would look like in a spreadsheet:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">DATE</th>
      <th style="text-align: left">TIME</th>
      <th style="text-align: left">INT</th>
      <th style="text-align: left">FLOAT</th>
      <th style="text-align: left">CHAR</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">2019-10-01</td>
      <td style="text-align: left">2019-10-01 12:01:22</td>
      <td style="text-align: left">42</td>
      <td style="text-align: left">42.4</td>
      <td style="text-align: left">The answer to it all.</td>
    </tr>
  </tbody>
</table>

<h4 id="date">DATE</h4>
<p>Dates are pretty straightforward, they store a year, month, and day as a number.  However, when we retrieve this number it is put in the human readable format listed above.</p>

<h4 id="time">TIME</h4>
<p>Time is exactly like <code class="highlighter-rouge">DATE</code>, but it also includes hours, minutes, and seconds (sometimes milliseconds).</p>

<h4 id="int">INT</h4>
<p>An <code class="highlighter-rouge">INT</code> stores a number no bigger than <code class="highlighter-rouge">2,147,483,647</code>.  However, one thing an <code class="highlighter-rouge">INT</code> cannot do is store a partial numbers.  For example, if we try to store <code class="highlighter-rouge">0.5</code> in an <code class="highlighter-rouge">INT</code> field it will probably get converted to <code class="highlighter-rouge">1</code>.</p>

<h4 id="float">FLOAT</h4>
<p><code class="highlighter-rouge">FLOAT</code>s fill in where <code class="highlighter-rouge">INTS</code> fail.  That is, a <code class="highlighter-rouge">FLOAT</code> store only up to the precision you specifiy.  For example, if we tried to store a <code class="highlighter-rouge">0.5</code> in a <code class="highlighter-rouge">FLOAT</code> with two precision points we’d be fine.  However, if we tried to store <code class="highlighter-rouge">0.4567</code> in a <code class="highlighter-rouge">FLOAT</code> with only two precision points, then it would be converted to <code class="highlighter-rouge">0.46</code>, or rounded up.</p>

<h4 id="char">CHAR</h4>
<p><code class="highlighter-rouge">CHAR</code> is meant to store human readable text.  When you put data into a <code class="highlighter-rouge">CHAR</code> field, the SQL program knows this is human readable information and doesn’t try to figure it out at all.  It leaves it literally as it is.  This is why <code class="highlighter-rouge">CHARS</code> are known as “literals.”  They are also called “strings,” because the computer seems them as a bunch of characters strung together.</p>

<h3 id="sql-datatypes">SQL Datatypes</h3>
<p>In SQL there are a lot of datatypes, however, some you may never need to use.  One way SQL is a bit different than a spreadsheet is it wants to know ahead of time the size it needs to make the field.</p>

<h4 id="char-revisited">CHAR Revisited</h4>
<p>This will mainly impact us when dealing with <code class="highlighter-rouge">CHAR</code>.  When the SQL program creates a <code class="highlighter-rouge">CHAR</code> field it wants to know the maximum number of characters which will ever go into the field.</p>

<p>For example:</p>
<ul>
  <li>CHAR(19) could hold the following: <code class="highlighter-rouge">&lt;-------19--------&gt;</code></li>
  <li>CHAR(5) could hold the following: <code class="highlighter-rouge">&lt;-5-&gt;</code></li>
</ul>

<p>One important note, if you put a single character in a <code class="highlighter-rouge">CHAR(5)</code> field, then the SQL program will fill in the other four characters with a <code class="highlighter-rouge">NULL</code>.  In short, a <code class="highlighter-rouge">CHAR</code> field will <em>always</em> be full.</p>

<h4 id="varchar">VARCHAR</h4>
<p>There is another type of character field which allows you to put more or less data than was decided at the beginning.  The <code class="highlighter-rouge">VARCHAR</code> datatype stands for “variable character” field.  It will allow you to store up to <code class="highlighter-rouge">65,535</code> characters on MySQL.  This is around 3 pages of text.</p>

<h4 id="varchar-vs-char">VARCHAR vs. CHAR</h4>
<p>Why have <code class="highlighter-rouge">CHAR</code> at all?  Shouldn’t we always use <code class="highlighter-rouge">VARCHAR</code> for everything just in case?  Well, usually, but not always.</p>

<p>Often, when you design a database you want to make it as efficient as possible (I mean, it’s going to be successful business product, right?).  The maximum size of the data a human will try to stuff in the field is important to the SQL program, as it tries to store data in such a way it minimizes space used and maximizes efficiency in retrieving the data.</p>

<p>In short, <code class="highlighter-rouge">CHAR</code> has a few advantages for your database.  And take Social Security Numbers, if your database has to store these data then it should probably be a <code class="highlighter-rouge">CHAR</code> as these data have historically been 9 characters (11 if you include dashes).</p>

<p>Pop quiz, why don’t we store a Social Security Number as an <code class="highlighter-rouge">INT</code>?</p>

<h2 id="creating-the-table">Creating the Table</h2>
<p>Ok, I’ve put you through a crash course of datatypes to get you to this point.</p>

<p>We are going to:</p>
<ol>
  <li>Create a database called <code class="highlighter-rouge">tasksDB</code></li>
  <li>Active <code class="highlighter-rouge">tasksDB</code></li>
  <li>Create a table on <code class="highlighter-rouge">tasksDB</code>, setting the fields datatype</li>
  <li>Then import a CSV into this table</li>
  <li>Lastly, we will write a query against the table</li>
</ol>

<p>Ready!? Let’s do it!</p>

<h3 id="creating-database">Creating Database</h3>
<p>Open Workbench, type, and run the following:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE DATABASE tasksDB;

SHOW databases;

USE tasksDB;

SELECT * FROM tasks;

LOAD DATA INFILE './task.csv'  INTO TABLE tasks
FIELDS TERMINATED BY ','
ENCLOSED BY '"' 
LINES TERMINATED BY '\n';

SELECT * FROM tasks;

</code></pre></div></div>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">tasks</span> <span class="p">(</span>
    <span class="n">task_id</span> <span class="nb">INT</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
    <span class="n">title</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">start_date</span> <span class="nb">DATE</span><span class="p">,</span>
    <span class="n">due_date</span> <span class="nb">DATE</span><span class="p">,</span>
    <span class="n">status</span> <span class="nb">TINYINT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">priority</span> <span class="nb">TINYINT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">description</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
<span class="p">)</span>  <span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="p">;</span>
</code></pre></div></div>

<p>https://superuser.com/questions/1354368/mysql-error-in-loading-csv-file-data-into-table</p>
:ET