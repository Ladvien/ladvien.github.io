Drupal.toggleFieldset=function(fieldset){if($(fieldset).is('.collapsed')){var content=$('> div',fieldset).hide();$(fieldset).removeClass('collapsed');content.slideDown({duration:300,complete:function(){$(this).css('height','auto');Drupal.collapseScrollIntoView(this.parentNode);this.parentNode.animating=false;},step:function(){Drupal.collapseScrollIntoView(this.parentNode);}});if(typeof Drupal.textareaAttach!='undefined'){Drupal.textareaAttach(null,fieldset);}}
else{var content=$('> div',fieldset).slideUp('medium',function(){$(this.parentNode).addClass('collapsed');this.parentNode.animating=false;});}}
Drupal.collapseScrollIntoView=function(node){var h=self.innerHeight||document.documentElement.clientHeight||$('body')[0].clientHeight||0;var offset=self.pageYOffset||document.documentElement.scrollTop||$('body')[0].scrollTop||0;var pos=Drupal.absolutePosition(node);var fudge=55;if(pos.y+node.offsetHeight+fudge>h+offset){if(node.offsetHeight>h){window.scrollTo(0,pos.y);}else{window.scrollTo(0,pos.y+node.offsetHeight-h+fudge);}}}
if(Drupal.jsEnabled){$(document).ready(function(){$('fieldset.collapsible > legend').each(function(){var fieldset=$(this.parentNode);if($('input.error, textarea.error, select.error',fieldset).size()>0){fieldset.removeClass('collapsed');}
var text=this.innerHTML;$(this).empty().append($('<a href="#">'+text+'</a>').click(function(){var fieldset=$(this).parents('fieldset:first')[0];if(!fieldset.animating){fieldset.animating=true;Drupal.toggleFieldset(fieldset);}
return false;})).after($('<div class="fieldset-wrapper"></div>').append(fieldset.children(':not(legend)')));fieldset.filter('.collapsed').children('.fieldset-wrapper').css({height:'auto',display:'inline'});});});}